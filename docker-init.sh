#!/bin/bash
set -e

cd /var/www/html

echo "üîß –ü—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è Laravel –¥–æ–¥–∞—Ç–∫—É..."

# 1. –ö–µ—à—É—î–º–æ –∫–æ–Ω—Ñ—ñ–≥ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
php artisan config:cache

# 2. –ó–∞–ø—É—Å–∫–∞—î–º–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó (--force —â–æ–± –Ω–µ –ø–∏—Ç–∞—Ç–∏ —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ)
echo "üìä –ó–∞–ø—É—Å–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π –ë–î..."
php artisan migrate --force

# 3. –ó–∞–ø—É—Å–∫–∞—î–º–æ seeding (--force —â–æ–± –Ω–µ –ø–∏—Ç–∞—Ç–∏)
echo "üå± Seeding –ë–î –¥–∞–Ω–∏–º–∏..."
php artisan db:seed --force

# 4. –ö–µ—à—É—î–º–æ –º–∞—Ä—à—Ä—É—Ç–∏
echo "üõ£Ô∏è –ö–µ—à—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤..."
php artisan route:cache

# 5. –ö–µ—à—É—î–º–æ view
echo "üëÅÔ∏è –ö–µ—à—É–≤–∞–Ω–Ω—è views..."
php artisan view:cache

echo "‚úÖ –î–æ–¥–∞—Ç–æ–∫ –≥–æ—Ç–æ–≤–∏–π!"
