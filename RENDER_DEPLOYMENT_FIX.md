# üöÄ –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –ë–î –Ω–∞ Render

## üî¥ –ü–†–ò–ß–ò–ù–ò –ü–†–û–ë–õ–ï–ú:

### 1. **–ú—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è**
- Dockerfile –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥ `php artisan migrate`
- –ë–î –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±–µ–∑ —Ç–∞–±–ª–∏—Ü—å

### 2. **Seeding –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è**
- –î–∞–Ω—ñ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –≤ –ë–î –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ–π
- –ü–æ—Å–ª—É–≥–∏, –∫–æ–º–∞–Ω–¥–∞, –∞–¥–º—ñ–Ω–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è

### 3. **Environment Variables –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ**
- –ù–∞ Render –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ
- `.env` —Ñ–∞–π–ª –Ω–µ —Å–ª—ñ–¥ –∫–æ–º—ñ—Ç–∏—Ç–∏ –≤ Git

### 4. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–æ–¥–≤—ñ–π–Ω–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é Vite**
- –í –∫–æ—Ä–µ–Ω—ñ —î `vite.config.js` –¥–ª—è Laravel (–∑ laravel-vite-plugin)
- –£ `frontend/` —î –æ–∫—Ä–µ–º–∏–π `vite.config.js` –¥–ª—è React
- –¶–µ –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –ø—Ä–∏ –∑–±—ñ—Ä—Ü—ñ

---

## ‚úÖ –ö–†–û–ö 1: –û–Ω–æ–≤–∏—Ç–∏ .dockerignore

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.dockerignore` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```
node_modules
npm-debug.log
.env
.env.local
.env.*.local
.git
.gitignore
.vscode
.idea
__pycache__
dist
build
.DS_Store
```

---

## ‚úÖ –ö–†–û–ö 2: –û–Ω–æ–≤–∏—Ç–∏ Dockerfile

–î–∏–≤. –Ω–æ–≤–∏–π `Dockerfile.render` - –≤—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å:
- ‚úÖ –ó–∞–ø—É—Å–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π: `php artisan migrate --force`
- ‚úÖ –ó–∞–ø—É—Å–∫ seeding: `php artisan db:seed --force`
- ‚úÖ –ö–µ—à—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó: `php artisan config:cache`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ –∫–µ—à—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤

---

## ‚úÖ –ö–†–û–ö 3: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Environment Variables –Ω–∞ Render

–ù–∞ Render Dashboard:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **Environment** –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
2. –î–æ–¥–∞—Ç–∏ —Ü—ñ –∑–º—ñ–Ω–Ω—ñ:

```
APP_NAME=MyApp
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-render-app.onrender.com

DB_CONNECTION=mysql
DB_HOST=gateway01.eu-central-1.prod.aws.tidbcloud.com
DB_PORT=4000
DB_DATABASE=test
DB_USERNAME=3N8ZYXhEZNsV49X.root
DB_PASSWORD=oeyui2mbPAiNxsMT

SESSION_DRIVER=database
QUEUE_CONNECTION=database
CACHE_STORE=database
BROADCAST_CONNECTION=log
```

**–í–ê–ñ–õ–ò–í–û**: –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ä–µ–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤–∞—à–æ—ó –ë–î!

---

## ‚úÖ –ö–†–û–ö 4: –†–æ–∑–¥—ñ–ª–∏—Ç–∏ Vite –∫–æ–Ω—Ñ—ñ–≥–∏ (–û–ü–¶–Ü–û–ù–ê–õ–¨–ù–û)

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ –ø—Ä–∏ –∑–±—ñ—Ä—Ü—ñ, –≤–∏–¥–∞–ª—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ–π–º–µ–Ω—É–π—Ç–µ –∫–æ—Ä–Ω–µ–≤–∏–π `vite.config.js`:

```bash
mv vite.config.js vite.config.js.bak
```

Dockerfile –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ `frontend/vite.config.js`.

---

## ‚úÖ –ö–†–û–ö 5: –ü–µ—Ä–µ–¥—ñ–ª–∏—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–∞ Render

1. –°–∫–æ–ø—ñ—é–π—Ç–µ –Ω–æ–≤–∏–π `Dockerfile.render` –≤ `Dockerfile`
2. –ó—Ä–æ–±—ñ—Ç—å commit: `git add . && git commit -m "Fix database migrations on Render"`
3. `git push` 
4. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–±—É–¥—É—î —Ç–∞ —Ä–æ–∑–≥–æ—Ä–Ω–µ –¥–æ–¥–∞—Ç–æ–∫

---

## üîç –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Logs** –Ω–∞ Render Dashboard
2. –®—É–∫–∞–π—Ç–µ —Ä—è–¥–∫–∏:
   - ‚úÖ `Migrating:` - –º—ñ–≥—Ä–∞—Ü—ñ—ó –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
   - ‚úÖ `Seeding database` - seeding –∑–∞–ø—É—Å—Ç–∏–≤—Å—è
   - ‚úÖ `Cache cleared for [config]` - –∫–æ–Ω—Ñ—ñ–≥ –∫–µ—à–æ–≤–∞–Ω–∏–π
3. API –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –ø–æ—Å–ª—É–≥–∏: `GET /api/services`

---

## üö® –Ø–∫—â–æ –ë–î –≤—Å–µ —â–µ –Ω–µ –ø—ñ–¥—Ç—è–≥—É—î—Ç—å—Å—è:

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Render:**
   ```
   –©–æ—Å—å —Ç–∏–ø—É: "SQLSTATE[HY000]: General error: 1030 Got error 124 from storage engine"
   ```

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –ë–î:**
   - –ß–∏ –≤—ñ—Ä–Ω—ñ HOST, PORT, USERNAME, PASSWORD?
   - –ß–∏ –¥–æ–∑–≤–æ–ª—è—î TiDB –ª–∏—Å—Ç IP Render?

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤—Ä—É—á–Ω—É (—è–∫—â–æ –º–æ–∂–Ω–∞):**
   ```bash
   php artisan migrate:refresh --seed --force
   ```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç:

- [ ] –û–Ω–æ–≤–ª–µ–Ω–∏–π Dockerfile –∑ –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏ —Ç–∞ seeding
- [ ] –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ Environment Variables –Ω–∞ Render
- [ ] `.env` –≤ `.gitignore`
- [ ] Git push —Ç–∞ –Ω–æ–≤–∞ –∑–±—ñ—Ä–∫–∞
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—É—é—Ç—å —É—Å–ø—ñ—à–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó
- [ ] API –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –ø–æ—Å–ª—É–≥
